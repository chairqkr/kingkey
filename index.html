<script>
    // ✅ `window` 객체에 직접 바인딩해서 전역 함수로 설정
    window.nextPage = function(currentPage, nextPage) {
        console.log(`📌 페이지 이동: ${currentPage} → ${nextPage}`);

        const currentElement = document.getElementById(currentPage);
        const nextElement = document.getElementById(nextPage);

        if (!currentElement) {
            console.error(`🚨 오류: 현재 페이지 '${currentPage}'를 찾을 수 없음`);
            return;
        }
        if (!nextElement) {
            console.error(`🚨 오류: 다음 페이지 '${nextPage}'를 찾을 수 없음`);
            return;
        }

        currentElement.classList.add('hidden');
        nextElement.classList.remove('hidden');
    };

    // ✅ `saveResponse()`도 `window` 객체에 등록
    window.saveResponse = function(currentPage, nextPage, response) {
        console.log(`🔹 버튼 눌림: ${currentPage} → ${nextPage}, 응답: ${response}`);

        // ✅ `nextPage()`가 함수인지 확인 후 실행
        if (typeof window.nextPage !== "function") {
            console.error("🚨 오류: nextPage 함수가 정의되지 않음!");
            return;
        }

        window.nextPage(currentPage, nextPage);

        const name = document.getElementById('name').value || "박예슬";
        const scriptURL = "https://script.google.com/macros/s/AKfycbzKxHydIWNYwr62SCH4NHe2ORP2U6YLLuwIPGRkQ6rg-_4necNe0Z7LXqrtv5T9zsP7IQ/exec"; // ✅ 네가 배포한 URL로 변경해야 함!
        const url = `${scriptURL}?name=${name}&response=${response}`;

        fetch(url)
            .then(response => response.text())
            .then(data => console.log("✅ 응답 저장 완료:", data))
            .catch(error => console.error("❌ 에러 발생:", error));
    };
</script>
