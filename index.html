<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¡¸ì—… ì‘ë‹µ ì›¹ì‚¬ì´íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<!-- í˜ì´ì§€ 1: ì´ë¦„ ì…ë ¥ -->
<div id="page1">
    <h2>ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”</h2>
    <input type="text" id="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
    <button id="next1">ë‹¤ìŒ</button>
</div>

<!-- í˜ì´ì§€ 2: ì¸ì‚¬ -->
<div id="page2" class="hidden">
    <h2>ì•ˆë…•í•˜ì„¸ìš” ì„ ìƒë‹˜ ì €ëŠ” ë°•ì˜ˆìŠ¬ì´ì—ìš”</h2>
    <button id="next2">í™•ì¸</button>
</div>

<!-- í˜ì´ì§€ 3: ì¡¸ì—… ì§ˆë¬¸ -->
<div id="page3" class="hidden">
    <h2>ì„ ìƒë‹˜ ì € ì¡¸ì—…í•˜ëŠ”ë° ì•„ì‰¬ìš°ì‹œì£ ã… ã… </h2>
    <button id="yes">ì˜ˆ</button>
    <button id="no">ì•„ë‹ˆì˜¤</button>
</div>

<!-- í˜ì´ì§€ 4: ë°¥ ì‚¬ë‹¬ë¼ê³  ìš”ì²­ -->
<div id="page4" class="hidden">
    <h2>ì¡¸ì—…í•´ì„œ ì•„ì‰¬ì›€ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤.</h2>
    <h3>2ì›”ì— ë°¥ í•œ ë²ˆë§Œ ì‚¬ì£¼ì„¸ìš”!!</h3>
    <button id="agree">ì‘</button>
    <button id="disagree">ì•„ë‹ˆ</button>
</div>

<!-- í˜ì´ì§€ 5: ì‘ëª¨ ì™„ë£Œ -->
<div id="page5" class="hidden">
    <h2>ì‹ì‚¬ ì´ë²¤íŠ¸ ì¶”ì²¨ì— ì‘ëª¨í•˜ì…¨ìŠµë‹ˆë‹¤.</h2>
    <p>ë‹¹ì²¨ ì—¬ë¶€ëŠ” ë‚˜ì¤‘ì— ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
</div>

<!-- âœ… JavaScript ì½”ë“œ -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        console.log("âœ… JavaScript ë¡œë“œ ì™„ë£Œ!");

        function nextPage(currentId, nextId) {
            console.log(`ğŸ“Œ í˜ì´ì§€ ì´ë™: ${currentId} â†’ ${nextId}`);

            const currentElement = document.getElementById(currentId);
            const nextElement = document.getElementById(nextId);

            if (!currentElement) {
                console.error(`ğŸš¨ ì˜¤ë¥˜: í˜„ì¬ í˜ì´ì§€ '${currentId}'ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ`);
                return;
            }
            if (!nextElement) {
                console.error(`ğŸš¨ ì˜¤ë¥˜: ë‹¤ìŒ í˜ì´ì§€ '${nextId}'ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ`);
                return;
            }

            currentElement.classList.add('hidden');
            nextElement.classList.remove('hidden');
        }

        function saveResponse(currentId, nextId, response) {
            console.log(`ğŸ”¹ ë²„íŠ¼ ëˆŒë¦¼: ${currentId} â†’ ${nextId}, ì‘ë‹µ: ${response}`);

            nextPage(currentId, nextId);

            const name = document.getElementById('name').value || "ë°•ì˜ˆìŠ¬";
            const scriptURL = "https://script.google.com/macros/s/AKfycbzKxHydIWNYwr62SCH4NHe2ORP2U6YLLuwIPGRkQ6rg-_4necNe0Z7LXqrtv5T9zsP7IQ/exec"; // âœ… ì—¬ê¸°ì— ë„¤ Google Apps Script URL ì…ë ¥
            const url = `${scriptURL}?name=${name}&response=${response}`;

            fetch(url)
                .then(response => response.text())
                .then(data => console.log("âœ… ì‘ë‹µ ì €ì¥ ì™„ë£Œ:", data))
                .catch(error => console.error("âŒ ì—ëŸ¬ ë°œìƒ:", error));
        }

        // âœ… ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ (ê° ë²„íŠ¼ í´ë¦­ ì‹œ ì‘ë™)
        document.getElementById("next1").addEventListener("click", function() {
            nextPage("page1", "page2");
        });

        document.getElementById("next2").addEventListener("click", function() {
            nextPage("page2", "page3");
        });

        document.getElementById("yes").addEventListener("click", function() {
            saveResponse("page3", "page4", "ì˜ˆ");
        });

        document.getElementById("no").addEventListener("click", function() {
            saveResponse("page3", "page4", "ì•„ë‹ˆì˜¤");
        });

        document.getElementById("agree").addEventListener("click", function() {
            saveResponse("page4", "page5", "ì‘");
        });

        document.getElementById("disagree").addEventListener("click", function() {
            saveResponse("page4", "page5", "ì•„ë‹ˆ");
        });
    });
</script>

</body>
</html>
