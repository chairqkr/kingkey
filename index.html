<script>
    // âœ… `window` ê°ì²´ì— ì§ì ‘ ë°”ì¸ë”©í•´ì„œ ì „ì—­ í•¨ìˆ˜ë¡œ ì„¤ì •
    window.nextPage = function(currentPage, nextPage) {
        console.log(`ğŸ“Œ í˜ì´ì§€ ì´ë™: ${currentPage} â†’ ${nextPage}`);

        const currentElement = document.getElementById(currentPage);
        const nextElement = document.getElementById(nextPage);

        if (!currentElement) {
            console.error(`ğŸš¨ ì˜¤ë¥˜: í˜„ì¬ í˜ì´ì§€ '${currentPage}'ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ`);
            return;
        }
        if (!nextElement) {
            console.error(`ğŸš¨ ì˜¤ë¥˜: ë‹¤ìŒ í˜ì´ì§€ '${nextPage}'ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ`);
            return;
        }

        currentElement.classList.add('hidden');
        nextElement.classList.remove('hidden');
    };

    // âœ… `saveResponse()`ë„ `window` ê°ì²´ì— ë“±ë¡
    window.saveResponse = function(currentPage, nextPage, response) {
        console.log(`ğŸ”¹ ë²„íŠ¼ ëˆŒë¦¼: ${currentPage} â†’ ${nextPage}, ì‘ë‹µ: ${response}`);

        // âœ… `nextPage()`ê°€ í•¨ìˆ˜ì¸ì§€ í™•ì¸ í›„ ì‹¤í–‰
        if (typeof window.nextPage !== "function") {
            console.error("ğŸš¨ ì˜¤ë¥˜: nextPage í•¨ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•ŠìŒ!");
            return;
        }

        window.nextPage(currentPage, nextPage);

        const name = document.getElementById('name').value || "ë°•ì˜ˆìŠ¬";
        const scriptURL = "https://script.google.com/macros/s/AKfycbzKxHydIWNYwr62SCH4NHe2ORP2U6YLLuwIPGRkQ6rg-_4necNe0Z7LXqrtv5T9zsP7IQ/exec"; // âœ… ë„¤ê°€ ë°°í¬í•œ URLë¡œ ë³€ê²½í•´ì•¼ í•¨!
        const url = `${scriptURL}?name=${name}&response=${response}`;

        fetch(url)
            .then(response => response.text())
            .then(data => console.log("âœ… ì‘ë‹µ ì €ì¥ ì™„ë£Œ:", data))
            .catch(error => console.error("âŒ ì—ëŸ¬ ë°œìƒ:", error));
    };
</script>
